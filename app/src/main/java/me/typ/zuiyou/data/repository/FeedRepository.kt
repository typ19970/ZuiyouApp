package me.typ.zuiyou.data.repository

import com.google.gson.GsonBuilder
import com.google.gson.reflect.TypeToken
import com.kunminx.architecture.data.response.DataResult
import com.kunminx.architecture.data.response.ResponseStatus
import me.typ.zuiyou.data.model.Feed

class FeedRepository private constructor() {

    companion object {
        val mGson = GsonBuilder().create()
        val INSTANCE by lazy(mode = LazyThreadSafetyMode.SYNCHRONIZED) { FeedRepository() }
    }

    fun getFeedList(result: DataResult.Result<List<Feed>>) {
        val json = """[
      {
        "id": 1578919900,
        "itemId": 6810585660219480000,
        "itemType": 2,
        "createTime": 1585713043,
        "duration": 46.321,
        "feeds_text": "åˆ«å‡‘çƒ­é—¹ï¼Œæ€•ä½ ç¬‘å",
        "authorId": 102540925606,
        "activityIcon": "https://sf1-nhcdn-tos.pstatp.com/obj/p1056/88c5ea2b90134313b99cf2f9a87e9ca1",
        "activityText": "è¿½å‰§ä¸èƒ½åœ",
        "width": 864,
        "height": 486,
        "url": "https://pipijoke.oss-cn-hangzhou.aliyuncs.com/6810585660219480333.mp4",
        "cover": "https://p9-ppx.byteimg.com/img/mosaic-legacy/2fe52000e38d208d50bf0~864x486_q80.jpeg",
        "author": {
          "id": 1856,
          "userId": 102540925606,
          "name": "å¼ -ç›Šè¾¾",
          "avatar": "https://p9-ppx.byteimg.com/img/tos-cn-i-0000/d9b1dca954d3432c9b891682c1590839~200x200.jpeg",
          "description": "çš®ä¸€ä¸‹ã€‚å¾ˆå¼€å¿ƒ",
          "likeCount": 0,
          "topCommentCount": 0,
          "followCount": 0,
          "followerCount": 9,
          "qqOpenId": null,
          "expires_time": 0,
          "score": 0,
          "historyCount": 0,
          "commentCount": 0,
          "favoriteCount": 0,
          "feedCount": 0,
          "hasFollow": false
        },
        "topComment": {
          "id": 2022,
          "itemId": 6810585660219480000,
          "commentId": 6811005208387131000,
          "userId": 0,
          "commentType": 1,
          "createTime": 1585810726,
          "commentCount": 24,
          "likeCount": 29064,
          "commentText": "å…ˆå¸åˆ›ä¸šæœªåŠè€Œå»å½“ç‰¹ç§å…µ",
          "imageUrl": null,
          "videoUrl": null,
          "width": 0,
          "height": 0,
          "hasLiked": false,
          "author": {
            "id": 1755,
            "userId": 1578919786,
            "name": "ã€è“…å“–â•°ä¼Šäººä¸ºè°ç¬‘",
            "avatar": "http://qzapp.qlogo.cn/qzapp/101794421/FE41683AD4ECF91B7736CA9DB8104A5C/100",
            "description": "å°æœ‹å‹,ä½ æ˜¯å¦æœ‰å¾ˆå¤šé—®å·",
            "likeCount": 2,
            "topCommentCount": 10,
            "followCount": 109,
            "followerCount": 40,
            "qqOpenId": "FE41683AD4ECF91B7736CA9DB8104A5C",
            "expires_time": 1596726031266,
            "score": 1000,
            "historyCount": 2792,
            "commentCount": 417,
            "favoriteCount": 17,
            "feedCount": 10,
            "hasFollow": false
          },
          "ugc": {
            "likeCount": 22,
            "shareCount": 0,
            "commentCount": 0,
            "hasFavorite": false,
            "hasLiked": true,
            "hasdiss": false,
            "hasDissed": false
          }
        },
        "ugc": {
          "likeCount": 35475,
          "shareCount": 320,
          "commentCount": 599,
          "hasFavorite": false,
          "hasLiked": false,
          "hasdiss": false,
          "hasDissed": false
        }
      },
      {
        "id": 1578919899,
        "itemId": 6832487096775612000,
        "itemType": 2,
        "createTime": 1590812369,
        "duration": 53.466,
        "feeds_text": "è¿™ä¸ªè§†é¢‘ç¬‘skräººäº†",
        "authorId": 106609488611,
        "activityIcon": null,
        "activityText": null,
        "width": 1280,
        "height": 720,
        "url": "https://pipijoke.oss-cn-hangzhou.aliyuncs.com/6832487096775612686.mp4",
        "cover": "https://p1-ppx.byteimg.com/img/mosaic-legacy/30b2d0011d73be892b3a4~1125x632_q80.jpeg",
        "author": {
          "id": 1855,
          "userId": 106609488611,
          "name": "å°åº·æ€»æœ¬æ€»",
          "avatar": "https://p1-ppx.byteimg.com/img/tos-cn-i-0000/f9d767fe7c9d4375a80ba8eb82d00b2b~200x200.jpeg",
          "description": "æŠ–éŸ³ï¼šå°åº·æ€»è´¦å·ï¼šMister_Kangç›—ç”¨ä½œå“å¿…ç©¶ï¼",
          "likeCount": 0,
          "topCommentCount": 0,
          "followCount": 0,
          "followerCount": 3,
          "qqOpenId": null,
          "expires_time": 0,
          "score": 0,
          "historyCount": 0,
          "commentCount": 0,
          "favoriteCount": 0,
          "feedCount": 0,
          "hasFollow": false
        },
        "topComment": null,
        "ugc": {
          "likeCount": 27588,
          "shareCount": 32,
          "commentCount": 1358,
          "hasFavorite": false,
          "hasLiked": false,
          "hasdiss": false,
          "hasDissed": false
        }
      },
      {
        "id": 1578919896,
        "itemId": 6812996722365569000,
        "itemType": 2,
        "createTime": 1586274412,
        "duration": 8.442,
        "feeds_text": "ä½ çˆ¸å¦ˆä¸æƒ³è®©ä½ çŸ¥é“çš„......",
        "authorId": 109515659615,
        "activityIcon": null,
        "activityText": null,
        "width": 960,
        "height": 544,
        "url": "https://pipijoke.oss-cn-hangzhou.aliyuncs.com/6812996722365569283.mp4",
        "cover": "https://p9-ppx.byteimg.com/img/mosaic-legacy/2fabd000eb32275729a31~960x544_q80.jpeg",
        "author": {
          "id": 1852,
          "userId": 109515659615,
          "name": "å”¯9",
          "avatar": "https://p1-ppx.byteimg.com/img/tos-cn-i-0000/532e412bad6d46abb0c0c68434953d17~200x200.jpeg",
          "description": "",
          "likeCount": 0,
          "topCommentCount": 0,
          "followCount": 0,
          "followerCount": 3,
          "qqOpenId": null,
          "expires_time": 0,
          "score": 0,
          "historyCount": 0,
          "commentCount": 0,
          "favoriteCount": 0,
          "feedCount": 0,
          "hasFollow": false
        },
        "topComment": null,
        "ugc": {
          "likeCount": 43757,
          "shareCount": 3194,
          "commentCount": 3883,
          "hasFavorite": false,
          "hasLiked": false,
          "hasdiss": false,
          "hasDissed": false
        }
      },
      {
        "id": 1578919894,
        "itemId": 6828336780488481000,
        "itemType": 2,
        "createTime": 1589846048,
        "duration": 31.231,
        "feeds_text": "ç»ˆäºåœ¨çš®çš®è™¾å˜æˆäº†æ²™é›•æ¨¡æ ·ï¼Œå´ä¹Ÿå˜æˆäº†æ²¡äººè¦è¢«å±è”½çš„æ ·å­ï¼Œæœ‰æ—¶å€™ä¼šé—®è‡ªå·±å½“åˆä¸ºä»€ä¹ˆé€‰æ‹©äº†ç©çš®çš®è™¾ï¼Œå´æ‰¾ä¸åˆ°ç­”æ¡ˆï¼Œå…¶å®æ”¹å˜äº†æˆ‘çš„ä¸æ˜¯è¿™ä¸ªè½¯ä»¶ï¼Œè€Œæ˜¯è¿™ä¸ªè½¯ä»¶ä¸Šçš„çš®å‹ä»¬ã€‚",
        "authorId": 57710322274,
        "activityIcon": "https://sf1-nhcdn-tos.pstatp.com/obj/p1056/88c5ea2b90134313b99cf2f9a87e9ca1",
        "activityText": "ç¥­å‡ºä»¤äººç¬‘å–·çš„è§†é¢‘",
        "width": 1176,
        "height": 720,
        "url": "https://pipijoke.oss-cn-hangzhou.aliyuncs.com/6828336780488481035.mp4",
        "cover": "https://p9-ppx.byteimg.com/img/mosaic-legacy/30a00000383f70206afe6~1125x688_q80.jpeg",
        "author": {
          "id": 1850,
          "userId": 57710322274,
          "name": "æ­ªæœè™¾ç±³",
          "avatar": "https://p9-ppx.byteimg.com/img/tos-cn-i-0000/88b954039b604ead965cd78ff525fd83~200x200.jpeg",
          "description": "å¿«ä¹çš„å°è™¾ç±³",
          "likeCount": 0,
          "topCommentCount": 0,
          "followCount": 0,
          "followerCount": 2,
          "qqOpenId": null,
          "expires_time": 0,
          "score": 0,
          "historyCount": 0,
          "commentCount": 0,
          "favoriteCount": 0,
          "feedCount": 0,
          "hasFollow": false
        },
        "topComment": null,
        "ugc": {
          "likeCount": 2222,
          "shareCount": 5,
          "commentCount": 517,
          "hasFavorite": false,
          "hasLiked": false,
          "hasdiss": false,
          "hasDissed": false
        }
      },
      {
        "id": 1578919804,
        "itemId": 1588996983057,
        "itemType": 2,
        "createTime": 1588996983057,
        "duration": 0,
        "feeds_text": "å°æœ‹å‹ä½ æ˜¯éƒ½æœ‰å¾ˆå¤šé—®å·â“",
        "authorId": 1588993948,
        "activityIcon": null,
        "activityText": "2019é«˜å…‰æ—¶åˆ»",
        "width": 720,
        "height": 1280,
        "url": "https://pipijoke.oss-cn-hangzhou.aliyuncs.com/1588996970841.mp4",
        "cover": "https://pipijoke.oss-cn-hangzhou.aliyuncs.com/1588996984383.jpeg",
        "author": {
          "id": 1755,
          "userId": 1578919786,
          "name": "ã€è“…å“–â•°ä¼Šäººä¸ºè°ç¬‘",
          "avatar": "http://qzapp.qlogo.cn/qzapp/101794421/FE41683AD4ECF91B7736CA9DB8104A5C/100",
          "description": "å°æœ‹å‹,ä½ æ˜¯å¦æœ‰å¾ˆå¤šé—®å·",
          "likeCount": 2,
          "topCommentCount": 10,
          "followCount": 109,
          "followerCount": 40,
          "qqOpenId": "FE41683AD4ECF91B7736CA9DB8104A5C",
          "expires_time": 1596726031266,
          "score": 1000,
          "historyCount": 2792,
          "commentCount": 417,
          "favoriteCount": 17,
          "feedCount": 10,
          "hasFollow": false
        },
        "topComment": null,
        "ugc": {
          "likeCount": -192,
          "shareCount": 45,
          "commentCount": 27,
          "hasFavorite": false,
          "hasLiked": false,
          "hasdiss": false,
          "hasDissed": false
        }
      },
      {
        "id": 1578919803,
        "itemId": 1588989577182,
        "itemType": 2,
        "createTime": 1588989577182,
        "duration": 0,
        "feeds_text": "ç¬¬ä¸€æ¬¡ååœ°é“ï¼Œå¥½å¤šç¾çœ‰å•Šï¼Œå“ˆå“ˆå“ˆğŸ˜",
        "authorId": 1582079663,
        "activityIcon": null,
        "activityText": "å¤šå½©ç”Ÿæ´»",
        "width": 720,
        "height": 1280,
        "url": "https://pipijoke.oss-cn-hangzhou.aliyuncs.com/1588989579839.mp4",
        "cover": "https://pipijoke.oss-cn-hangzhou.aliyuncs.com/1588989611709.jpeg",
        "author": {
          "id": 1393,
          "userId": 1582079663,
          "name": "Aä¸¶é£å¤©ç‰è™",
          "avatar": "http://qzapp.qlogo.cn/qzapp/101794421/75C349CD87A790A7B087A823B3C92324/100",
          "description": null,
          "likeCount": 7,
          "topCommentCount": 0,
          "followCount": 0,
          "followerCount": 6,
          "qqOpenId": "75C349CD87A790A7B087A823B3C92324",
          "expires_time": 1589855689397,
          "score": 0,
          "historyCount": 10,
          "commentCount": 1,
          "favoriteCount": 0,
          "feedCount": 0,
          "hasFollow": false
        },
        "topComment": null,
        "ugc": {
          "likeCount": -19,
          "shareCount": 7,
          "commentCount": 13,
          "hasFavorite": false,
          "hasLiked": false,
          "hasdiss": false,
          "hasDissed": false
        }
      },
      {
        "id": 773,
        "itemId": 1588587440667,
        "itemType": 2,
        "createTime": 1588587440667,
        "duration": 0,
        "feeds_text": "ä¸€æ¬¡æ€§çˆ†ç ´å…µ",
        "authorId": 1578919786,
        "activityIcon": null,
        "activityText": "å¤šå½©ç”Ÿæ´»",
        "width": 1280,
        "height": 1280,
        "url": "https://pipijoke.oss-cn-hangzhou.aliyuncs.com/dabing.mp4",
        "cover": "https://pipijoke.oss-cn-hangzhou.aliyuncs.com/dabing_cover.jpg",
        "author": {
          "id": 1755,
          "userId": 1578919786,
          "name": "ã€è“…å“–â•°ä¼Šäººä¸ºè°ç¬‘",
          "avatar": "http://qzapp.qlogo.cn/qzapp/101794421/FE41683AD4ECF91B7736CA9DB8104A5C/100",
          "description": "å°æœ‹å‹,ä½ æ˜¯å¦æœ‰å¾ˆå¤šé—®å·",
          "likeCount": 2,
          "topCommentCount": 10,
          "followCount": 109,
          "followerCount": 40,
          "qqOpenId": "FE41683AD4ECF91B7736CA9DB8104A5C",
          "expires_time": 1596726031266,
          "score": 1000,
          "historyCount": 2792,
          "commentCount": 417,
          "favoriteCount": 17,
          "feedCount": 10,
          "hasFollow": false
        },
        "topComment": null,
        "ugc": {
          "likeCount": 1933,
          "shareCount": 523,
          "commentCount": 1019,
          "hasFavorite": false,
          "hasLiked": false,
          "hasdiss": false,
          "hasDissed": false
        }
      }
    ]"""
        val list = mGson.fromJson<List<Feed>>(json, object : TypeToken<List<Feed>>() {}.type)
        result.onResult(DataResult(list, ResponseStatus()))
    }
}